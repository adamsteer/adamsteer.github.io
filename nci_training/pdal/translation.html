<html>
<head>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

</head>
<body>
<div class="container theme-showcase" role="main">
  
<h1>PDAL on the VDI: data translation</h1>

<div class="alert alert-warning" role="alert">
If you've jumped straight to this lesson and PDAL doesn't appear to exist on your VDI session, please head to the <a href="./pdal_setup.html">setup and test</a> lesson and then come back.</div>


<h2>Why PDAL translate</h2>
<p>
All data are not equal in the eyes of analysis packages or research purposes. So we need to translate datasets between standard formats, modify metdata, or apply transformations to the point data themselves. PDAL's translate application acts pretty much like GDAL's translate.</p>
<p>
A number of possible scenarios are shown below, - step through some or all of them, and if you have a case that doesn't appear let the class know and we can work through it!</p>

<div class="alert alert-warning" role="alert">
Reminder - the data are here: /g/data/rr1/Elevation/Merimbula0313/z55/2013/Mass_Points/LAS/AHD/LAS/Tiles_2k_2k/Merimbula2013-C3-AHD_7605910_55_0002_0002.las
</div>


<h3>Case 1: My tile elevations are too low by some constant offset</h3>
<p>
LAS 1.4 is a new community standard, which is not (in 2017) in widespread use. Using PDAL, we can rewrite LAS data into other formats for specific uses. 


<h3>Case 2: I need to reproject from GDA94 to UTM</h3>
<p>
This is a case for users of tools like 

<h3>Case 3: My tools require LAS 1.4, I have LAS 1.2</h3>
<p>


<h3>Case 4: I need to compress my LAS files to LAZ files</h3>


<h3>Case 5: I have points as text and I want to LAZ them</h3>


<p>
In particular, we'll use a LiDAR survey flown over Merimbula in 2013:</p>

<pre>
/g/data1/Elevation/Merimbula0313/Tiles_2k_2k</pre>

<p>
If you're a GDAL user, PDAL metadata querying will look familiar:</p>

<pre>
pdal info /path/to/Elevation/Merimbula0313/z55/2013/Mass_Points/LAS/AHD/LAS/Tiles_2k_2k/Merimbula2013-C3-AHD_7605910_55_0002_0002.las</pre>

<p>
This will return a long JSON output stream telling you all about the LAS tile you queried, and basic statistics on each of its dimensions.</p>

<p>
<b>If you got this far, you have a working PDAL - and you've used it for a metadata query!</b></p>


<h2>Metadata exercises</h2>
<p>
Try:</p>

<pre>
pdal info</pre>

<p>
...to get some other options and see if you can:</p>

<ol>
   <li>Return a shorter set of metadata</li>
   <li>In this metadata, find the LAS file format major and minor version (hint - using 'grep' will make your life a lot easier</li>
   <li>Return a polygon showing the geospatial extents of the file you queried.</li>
</ol>

<a href="./index.html">Back to base</a>

<hr>
<div class="alert alert-info" role="alert">
<b>Exercise hints</b>
<ol>
    <li>try the --metadata flag. Using --summary and --schema tell you other interestings things, but you can't answer the next question with them.</li>
    <li>Look for the 'major version' and 'minor version' fields. Separate them with a full stop to get the version: 1.2</li>
    <li>Try '--boundary'. Is it the same as the 'bounds' field if you use --summary?</li>
</ol>
</div>

</div>
</body>
</html>